<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Philippines Range Rings — Basco &amp; Lal-lo</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { background: #1a1a2e; display: flex; justify-content: center; align-items: center; min-height: 100vh; }
  #map-wrapper {
    width: 100%;
    max-width: 900px;
    aspect-ratio: 5 / 4;
    position: relative;
    overflow: hidden;
    border: 2px solid #444;
  }
  #map { width: 100%; height: 100%; }
  .leaflet-container { cursor: default !important; }
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.css"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.js"></script>
</head>
<body>
<div id="map-wrapper">
  <div id="map"></div>
</div>
<script>
const BASCO = { lat: 20.4491, lng: 121.9761, name: "Basco (BSO)" };
const LALLO  = { lat: 18.1810, lng: 121.7477, name: "Lal-lo / Cagayan Intl (LLC)" };

const RINGS = [
  { km: 180, color: "#FFD600", label: "NMESIS" },
  { km: 450, color: "#FF6D00", label: "MRC/Typhon SM-6" },
  { km: 500, color: "#D50000", label: "HIMARS Precision Strike Missile" }
];

const map = L.map('map', {
  center: [19.5, 121.9],
  zoom: 5,
  zoomControl: false,
  dragging: false,
  scrollWheelZoom: false,
  doubleClickZoom: false,
  touchZoom: false,
  keyboard: false,
  boxZoom: false,
  tap: false,
  attributionControl: true
});

L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
  attribution: '© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
}).addTo(map);

[BASCO, LALLO].forEach(a => {
  // Airport marker
  L.circleMarker([a.lat, a.lng], {
    radius: 5, color: '#fff', fillColor: '#ff4444', fillOpacity: 1, weight: 2
  }).addTo(map);

  // Airport label
  L.marker([a.lat, a.lng], {
    icon: L.divIcon({
      className: '',
      html: `<div style="color:#fff;font-weight:bold;font-size:11px;white-space:nowrap;
             text-shadow:1px 1px 3px #000,-1px -1px 3px #000;
             margin-left:8px;margin-top:-6px">${a.name}</div>`,
      iconAnchor: [0, 0]
    })
  }).addTo(map);

  // Rings — largest first so smaller ones render on top
  [...RINGS].reverse().forEach(r => {
    L.circle([a.lat, a.lng], {
      radius: r.km * 1000,
      color: r.color,
      weight: 1.8,
      fillOpacity: 0.05,
      dashArray: '6 4',
      interactive: false
    }).addTo(map);

    // Label at top of each ring
    const dLat = (r.km / 6371) * (180 / Math.PI);
    L.marker([a.lat + dLat, a.lng], {
      icon: L.divIcon({
        className: '',
        html: `<div style="color:${r.color};font-size:9px;font-weight:bold;
               white-space:nowrap;font-family:Arial,sans-serif;
               text-shadow:1px 1px 3px #000,-1px -1px 3px #000;
               transform:translateX(-50%)">${r.label}</div>`,
        iconAnchor: [0, 8]
      }),
      interactive: false
    }).addTo(map);
  });
});

// Title
const titleCtrl = L.control({ position: 'topleft' });
titleCtrl.onAdd = () => {
  const d = L.DomUtil.create('div');
  d.style.cssText = 'background:rgba(0,0,0,0.65);color:#cde;font:bold 13px Arial;padding:6px 12px;border-radius:0 0 6px 0;pointer-events:none';
  d.innerHTML = 'Philippines Range Rings — Basco &amp; Lal-lo';
  return d;
};
titleCtrl.addTo(map);

// Legend
const legend = L.control({ position: 'bottomright' });
legend.onAdd = () => {
  const d = L.DomUtil.create('div');
  d.style.cssText = 'background:rgba(0,0,0,0.65);padding:8px 12px;border-radius:6px;font-family:Arial;font-size:10px;color:#ddd;line-height:20px;pointer-events:none';
  d.innerHTML = RINGS.map(r =>
    `<span style="display:inline-block;width:12px;height:10px;background:${r.color};margin-right:6px;vertical-align:middle"></span>${r.label} (${r.km} km)`
  ).join('<br>');
  return d;
};
legend.addTo(map);
</script>
</body>
</html>